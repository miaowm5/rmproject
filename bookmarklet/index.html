<!DOCTYPE html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <script>
    function write_hint(text){
      document.getElementById('hint').innerHTML = text
    }
    function search_url(){
      var xmlhttp = null;
      if (window.XMLHttpRequest){ xmlhttp=new XMLHttpRequest(); }
      else if (window.ActiveXObject){ xmlhttp=new ActiveXObject("Microsoft.XMLHTTP"); }
      if (xmlhttp == null){
        write_hint("您的土鳖浏览器居然连XML都不支持……")
        return
      }
      xmlhttp.open("GET","data.xml",false);
      xmlhttp.send(null);
      var list = xmlhttp.responseXML.documentElement.getElementsByTagName('site')
      var data
      for (var i = 0; i < list.length; i += 1) {
        data = list[i].getElementsByTagName('url_regexp')[0]
        data = data.textContent || data.text
        if(eval(data).test(window.location.hash)){
          data = list[i].getElementsByTagName("project_url")[0]
          data = data.textContent || data.text
          window.location = "http://rmproject.lofter.com/post/3b5924_" + data
          return
        }
      }
      write_hint("目前我们没有这个网站的数据TvT")
    }
  </script>
</head>
<body>
  <h1 style="text-align:center;width:100%;" id='hint'>
    努力查找数据中...</br>
    若长时间停留在这个页面请刷新重试
  </h1>
  <script >
    search_url()
  </script>
</body>
</html>
